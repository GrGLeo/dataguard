# DataGuard Example Configuration
# This file demonstrates various validation rules for CSV data

[[table]]
name = "Products Large Dataset"
path = "benchmark/products_large.csv"

# Integer column with range validation
[[table.column]]
name = "Index"
datatype = "integer"

    [[table.column.rule]]
    name = "is_unique"

    [[table.column.rule]]
    name = "is_not_null"

    [[table.column.rule]]
    name = "is_positive"

# String column with length constraints
[[table.column]]
name = "Name"
datatype = "string"

    [[table.column.rule]]
    name = "is_not_null"

    [[table.column.rule]]
    name = "with_min_length"
    min_length = 3

    [[table.column.rule]]
    name = "with_max_length"
    max_length = 100

# String column with basic validation
[[table.column]]
name = "Description"
datatype = "string"

    [[table.column.rule]]
    name = "with_min_length"
    min_length = 1

# String column with allowed values
[[table.column]]
name = "Currency"
datatype = "string"

    [[table.column.rule]]
    name = "is_in"
    members = ["USD", "EUR", "GBP", "JPY", "CAD"]

# Integer column with value constraints
[[table.column]]
name = "Price"
datatype = "integer"

    [[table.column.rule]]
    name = "between"
    min = 1
    max = 10000

    [[table.column.rule]]
    name = "is_positive"

# Integer column with minimum validation
[[table.column]]
name = "Stock"
datatype = "integer"

    [[table.column.rule]]
    name = "is_non_negative"

# String column with EAN validation (13 digits)
[[table.column]]
name = "EAN"
datatype = "string"

    [[table.column.rule]]
    name = "is_exact_length"
    length = 13

    [[table.column.rule]]
    name = "is_numeric"

# String column with enumerated values
[[table.column]]
name = "Availability"
datatype = "string"

    [[table.column.rule]]
    name = "is_in"
    members = ["in_stock", "out_of_stock", "limited_stock", "backorder", "pre_order"]

# Integer column with positive validation
[[table.column]]
name = "Internal ID"
datatype = "integer"

    [[table.column.rule]]
    name = "is_positive"

# =============================================================================
# Second table: Customers Medium Dataset
# =============================================================================

[[table]]
name = "Customers Medium Dataset"
path = "benchmark/customers_medium.csv"

[[table.relations]]
column_one = "Subscription Date"
column_two = "Subscription Date"

  [[table.relations.rule]]
  name = "date_comparaison"
  operator = ">="

# Integer index with uniqueness
[[table.column]]
name = "Index"
datatype = "integer"

    [[table.column.rule]]
    name = "is_unique"

    [[table.column.rule]]
    name = "is_positive"

# Customer ID with specific format
[[table.column]]
name = "Customer Id"
datatype = "string"

    [[table.column.rule]]
    name = "is_exact_length"
    length = 15

    [[table.column.rule]]
    name = "is_alphanumeric"

    [[table.column.rule]]
    name = "is_unique"

# First Name validation
[[table.column]]
name = "First Name"
datatype = "string"

    [[table.column.rule]]
    name = "with_length_between"
    min_length = 2
    max_length = 50

    [[table.column.rule]]
    name = "is_alpha"

# Last Name validation
[[table.column]]
name = "Last Name"
datatype = "string"

    [[table.column.rule]]
    name = "with_length_between"
    min_length = 2
    max_length = 50

    [[table.column.rule]]
    name = "is_alpha"

# Company name validation
[[table.column]]
name = "Company"
datatype = "string"

    [[table.column.rule]]
    name = "with_min_length"
    min_length = 3

# City validation
[[table.column]]
name = "City"
datatype = "string"

    [[table.column.rule]]
    name = "with_min_length"
    min_length = 2

    [[table.column.rule]]
    name = "with_max_length"
    max_length = 100

# Email validation
[[table.column]]
name = "Email"
datatype = "string"

    [[table.column.rule]]
    name = "is_email"

    [[table.column.rule]]
    name = "is_unique"

# Subscription Date validation (ISO format: YYYY-MM-DD)
[[table.column]]
name = "Subscription Date"
format = "%Y-%m-%d"
datatype = "date"

    [[table.column.rule]]
    name = "is_not_futur"

    [[table.column.rule]]
    name = "is_weekday"

# Website URL validation
[[table.column]]
name = "Website"
datatype = "string"

    [[table.column.rule]]
    name = "is_url"
